{
  "Syntax": "void CopyResource(\n  [In] ID3D12Resource pDstResource,\n  [In] ID3D12Resource pSrcResource,\n);",
  "HelpLink": "https://docs.microsoft.com/windows/win32/api//d3d12/nf-d3d12-id3d12graphicscommandlist-copyresource",
  "Description": "コピー元のリソースの内容全体をコピー先のリソースにコピーします。",
  "Remarks": "<b>CopyResource</b>演算はGPUで実行されるため、コピーするデータのサイズに線形に依存する大きなCPU負荷は発生しません。\n\n\n<b>CopyResource</b>は、同じヒープメモリをエイリアスするリソースの初期化に使用することができます。詳細は<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createplacedresource\">CreatePlacedResource</a>を参照してください。\n\n<h3><a id=\"Debug_layer\"></a><a id=\"debug_layer\"></a><a id=\"DEBUG_LAYER\"></a>Debug layer</h3>\nソースのサブソースが<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states\">D3D12_RESOURCE_STATE_COPY_SOURCE</a>の状態でない場合、デバッグ層はエラーを発行します。\n\n\nデスティネーションのサブリソースが<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states\">D3D12_RESOURCE_STATE_COPY_DEST </a>状態でない場合、デバッグ層はエラーを発行します。\n\n\nこの方式には、性能向上のためにいくつかの制約があります。例えば、ソースとデスティネーションのリソースです。\n\n<ul><li>Must be different resources.</li><li>Must be the same type.</li><li>Must have identical dimensions (including width, height, depth, and size as appropriate).</li><li>Must have compatible <a href=\"https://docs.microsoft.com/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format\">DXGI formats</a>, which means the formats must be identical or at least from the same type group. For example, a DXGI_FORMAT_R32G32<a href=\"https://docs.microsoft.com/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression\">Format Conversion using Direct3D 10.1</a>2_FLOAT texture can be copied to an DXGI_FORMAT_R32G32<a href=\"https://docs.microsoft.com/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression\">Format Conversion using Direct3D 10.1</a>2_UINT texture since both of these formats are in the DXGI_FORMAT_R32G32<a href=\"https://docs.microsoft.com/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression\">Format Conversion using Direct3D 10.1</a>2_TYPELESS group. <b>CopyResource</b> can copy between a few format types. For more info, see <a href=\"https://docs.microsoft.com/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression\">Format Conversion using Direct3D 10.1</a>.\n          </li><li>Can't be currently mapped.</li></ul><b>CopyResource</b>はコピーのみサポートしており、ストレッチ、カラーキー、ブレンドはサポートしていません。<b>CopyResource</b>は、いくつかのフォーマットタイプの間でリソースデータを再解釈することができます。詳しくは<a href=\"https://docs.microsoft.com/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression\">Format Conversion using Direct3D 10.1</a>をご覧ください。\n\n\n<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d11/ne-d3d11-d3d11_bind_flag\">depth-stencil</a>リソースは、ソースとしてもデスティネーションとしても使用できます。マルチサンプリング機能（<a href=\"https://docs.microsoft.com/windows/desktop/api/dxgicommon/ns-dxgicommon-dxgi_sample_desc\">DXGI_SAMPLE_DESC</a>参照）で作成されたリソースは、ソースとデスティネーションのマルチサンプリング数と品質が同一の場合に限り、ソースとデスティネーションとして使用できます。ソースとデスティネーションのマルチサンプリング数と品質が異なる場合、または一方がマルチサンプリングされていて他方がマルチサンプリングされていない場合、<b>CopyResource</b>の呼び出しは失敗します。<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resolvesubresource\">ResolveSubresource</a>は、マルチサンプルされたリソースをマルチサンプルされていないリソースに解決するために使用します。\n\n\nこのメソッドは非同期呼び出しで、コマンドバッファのキューに追加されることがあります。これは、データをコピーする際に発生する可能性のあるパイプラインのストールを除去しようとするものです。詳細については、<a href=\"https://docs.microsoft.com/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-mapping\">performance considerations</a>を参照してください。\n\n\nリソース内のデータの一部だけをコピーしたい場合は、<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion\">CopyTextureRegion</a>や<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copybufferregion\">CopyBufferRegion</a>の使用を検討してください。\n\n\n\n",
  "Parameters": {
    "pDstResource": "型: <b>ID3D12Resource*</b>\n\nデスティネーションリソースを表す<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/nn-d3d12-id3d12resource\">ID3D12Resource</a>インターフェイスへのポインタです。",
    "pSrcResource": "型: <b>ID3D12Resource*</b>\n\nソースリソースを表す<a href=\"https://docs.microsoft.com/windows/desktop/api/d3d12/nn-d3d12-id3d12resource\">ID3D12Resource</a>インターフェイスへのポインタです。"
  },
  "Fields": {}
}